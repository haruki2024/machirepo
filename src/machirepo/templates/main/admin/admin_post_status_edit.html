{% extends 'top_base_admin.html' %} 

{% block title %}ステータス記録・更新 | 管理者{% endblock %}

{% block content %}

<main class="main-content">
    <a href="{% url "admin_post_list" %}" class="link-secondary">&lt; 一覧に戻る</a>
    <div>
        <h2 style="padding-top: -10rem; margin-left: 0rem;">{{ post.title|default:"(タイトルなし)" }}</h2>
    </div>

    <form method="post" action="{% url 'admin_post_status_edit' post.id %}" class="space-y-6">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
                <strong class="font-bold mr-2">入力エラー:</strong>
                {% for error in form.non_field_errors %}
                    <span class="block sm:inline">{{ error }}</span>
                {% endfor %}
            </div>
        {% endif %}

        <div class="form-group2">
            <label for="{{ form.status.id_for_label }}" class="form-label">
                ステータス
            </label>
            {{ form.status }}
            {% if form.status.errors %}
                <div class="error-message">{{ form.status.errors.0 }}</div>
            {% endif %}
        </div>

        <div class="form-group2" id="priority-group">
            <label for="{{ form.priority.id_for_label }}" class="form-label">優先度</label>
            {{ form.priority }}
            {% if form.priority.errors %}
                <div class="error-message">{{ form.priority.errors.0 }}</div>
            {% endif %}
        </div>

        <div class="form-group2">
            <label for="{{ form.admin_note.id_for_label }}" class="form-label">
                管理者コメント（任意）
            </label>
            {{ form.admin_note }}
            
        </div>

        <button type="submit" class="btn btn-primary" style="margin-top: 1rem;">記録する</button>
    </form>
</main>

{% endblock %}